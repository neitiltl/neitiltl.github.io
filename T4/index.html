<!DOCTYPE html>
<html lang="en">

<head>
    <title>Music Non Stop</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono:wght@400;700&display=swap"
        rel="stylesheet">


    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="top p-5  text-center">
        <h1>MUSIC NON STOP</h1>
        <h4><strong>Kraftwerk @ iTunes</strong></h4>
    </div>

    <nav class="navbar navbar-expand-sm  navbar-custom">
        <div class="container-fluid">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link active" href="index.html">Front Page</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="search.html">Searching</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="body-container">
        <div class="content">

            <div class="row">

                <div class="col-sm-4">
                    <h2>&#127926; INFORMATION</h2>

                    <div class="info-container">
                        <p>Tämä harjoitustyö hyödyntää iTunesin avointa rajapintaa.</p>
                        <p>Etusivulle latautuvat automaattisesti Kraftwerkin albumit.</p>
                        <p> Haku-sivulla voi etsiä musiikkia artistin tai kappaleen nimellä ja kuunnella lyhyitä
                            näytteitä.
                        </p>
                    </div>

                    <h3 class="mt-4">&#127926; STOP THE PRESS</h3>
                    <div class="info-container">

                        <h3>Musiikkijulkaisuja:</h3>
                        <ul class="nav nav-pills flex-column">

                            <li class="nav-item">
                                <a class="nav-link " href="https://www.rollingstone.com/" target="_blank"
                                    rel="noreferrer noopener">Rolling Stone</a>
                            </li>
                            <!-- tabnabbing @ card-footer: https://www.freecodecamp.org/news/how-to-use-html-to-open-link-in-new-tab/  -->

                            <li class="nav-item">
                                <a class="nav-link " href="https://pitchfork.com/" target="_blank"
                                    rel="noreferrer noopener">Pitchfork</a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link " href="https://www.nme.com/" target="_blank"
                                    rel="noreferrer noopener">NME</a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link " href="https://www.kerrang.com/" target="_blank"
                                    rel="noreferrer noopener">Kerrang!</a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link " href="https://www.soundi.fi/" target="_blank"
                                    rel="noreferrer noopener">SOUNDI</a>
                            </li>

                        </ul>
                        <hr class="d-sm-none">
                    </div>
                </div>


                <div class="col-sm-8">
                    <h2>&#127926; KRAFTWERK</h2>
                    <div class="card-container">
                        <p>Alla näet valikoiman Kraftwerkin julkaisuista iTunesissa.</p>
                        <p>Klikkaa nappia siirtyäksesi iTunesin artistisivulle.</p>

                    </div>

                    <!-- tulostetaan results -->
                    <div id="results" style=" margin-top: 20px;"></div>

                    <script>
                        function showArtist() {

                            /* https://publicapi.dev/i-tunes-api
                       https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/iTuneSearchAPI/Searching.html#//apple_ref/doc/uid/TP40017632-CH5-SW1 
                      
                       https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/iTuneSearchAPI/LookupExamples.html#//apple_ref/doc/uid/TP40017632-CH7-SW1
                       Look up all albums for Jack Johnson: https://itunes.apple.com/lookup?id=909253&entity=album.*/

                            fetch(`https://itunes.apple.com/lookup?id=553899&entity=album`)
                                .then(response => response.json())
                                .then(data => {

                                    let html = '<div class="row g-3">'; // korttirivin alku

                                    /* ensimmäinen tulos [0] on artistin perustiedot, albumit alkavat toisesta tuloksesta [1] */
                                    for (let i = 1; i < data.results.length; i++) {
                                        const album = data.results[i];

                                        html += `

                        <div class="col-md-4">
                            
                            <div class="card ">
                                <img src="${album.artworkUrl100}" class="card-img-top p-4 rounded" alt="Album art">
                                <div class="card-body text-center">
                                    <h5 class="card-title">${album.collectionName}</h5>
                                    <p class="card-text">
                                         <strong>Artist:</strong> ${album.artistName}<br>
                                        <strong>Released:</strong> ${new Date(album.releaseDate).getFullYear()}
                                    </p>
                                </div>

                                <div class="card-footer">
                                   <a href="${album.artistViewUrl}" class="btn buttonartist" target="_blank" rel="noreferrer noopener">${album.artistName}</a>
                                </div>
                            </div>
                        </div>
                    `;
                                    }

                                    html += '</div>';
                                    document.getElementById("results").innerHTML = html;
                                })
                                .catch(error => {
                                    document.getElementById("results").innerHTML = "<p>Tietoja ei saatu haettua.</p>";
                                    console.error(error);
                                });
                        }

                        /* lataa tiedot sivun latautuessa
                        https://www.debugbear.com/blog/domcontentloaded */

                        window.addEventListener('DOMContentLoaded', () => {
                            showArtist();
                        });

                    </script>
                </div>
            </div>

        </div>
    </div>


    <div class="footer">
        <p>© 2025 MUSIC NON STOP – Powered by iTunes API</p>
    </div>

</body>

</html>